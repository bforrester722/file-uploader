
<style>

  :host {
    display:  block;
    width:    100%;
    position: relative;
    background-color:             var(--app-background-color);
    --drop-zone-background-color: var(--app-light-color);
  }

  #max-width-container {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    margin:         32px 0px;
  }

  .max-width {
    max-width: 400px;
    width:     100%;
  }

  #deleteArea {
    display:          flex;
    flex-direction:   column;
    align-items:      center;
    margin:           16px 0px;
    padding:          16px 0px;
    color:            var(--app-error-color);
    background-color: var(--app-disabled-color);
  }

  #delete-icon {
    width:  40px;
    height: 40px;
  }

  #dropZone {
    margin:                  16px 0px;
    background-color:        var(--drop-zone-background-color);
    --yo-file-hover-bgcolor: var(--app-primary-color);
  }

  strong {
    color:     var(--app-primary-color);
    font-size: 20px;
  }

  .file-name-inputs {
    display: flex;
  }

  .rename-modal-images {
    width:        64px;
    height:       64px;
    margin-right: 8px;
  }

  .card-actions {
    display:         flex;
    justify-content: flex-end;
  }

  .modal-call-to-action-btns {
    background-color: var(--app-primary-color);
    color:            var(--light-text-color);
  }

  #dismiss-btn {
    color: var(--app-primary-color);
  }

</style>


<div id="container">

  <preview-list id="preview"
                items="[[_items]]" 
                on-list-item-dropped="__handleDeleteDrop" 
                on-list-sort-finished="__handleSortFinished">
  </preview-list>

  <div id="max-width-container">
    <div id="deleteArea" 
         class="max-width">
      <iron-icon id="delete-icon" 
                 icon="app-icons:delete-forever">
      </iron-icon>
      <div>Drop file here to delete</div>
    </div>
    <drag-drop-files id="dropZone"
                     class="max-width"
                     accept="[[__computeFileAccept(accept)]]"
                     disable-auto-upload
                     directory="[[__computeDirectory(coll, doc)]]"
                     field="[[field]]"
                     multiple="[[multiple]]"
                     on-disabled-auto-upload-files-added="__handleFilesAdded"
                     on-file-removed="__handleFileRemoved"
                     on-file-saved="__handleFileSaved">
    </drag-drop-files>
  </div>
</div>

<app-spinner id="spinner"></app-spinner>


<app-modal id="deleteConfirmModal"
           heading="Confirm Delete">
  <div id="content-div" 
       slot="card-content-slot">
    <p>
      Please confirm that you want to delete <strong>[[_itemToDelete.name]]</strong>.
    </p>
    <p>
      This action CANNOT be undone!
    </p>
  </div>
  <div class="card-actions" 
       slot="card-actions-slot">
    <paper-button class="modal-dismiss-btns" 
                  on-click="__dismissDeleteConfirmButtonClicked">
      dismiss
    </paper-button>   
    <paper-button class="modal-call-to-action-btns" 
                  on-click="__confirmDeleteButtonClicked">
      delete
    </paper-button>      
  </div>
</app-modal>


<app-modal id="renameFilesModal"
           heading="[[__computeRenameModalHeading(multiple)]]">
  <div id="content-div" 
       slot="card-content-slot">
    <p>
      Do you want to rename [[__computeRenameModalPural(multiple)]]?
    </p>
    <p>
      [[__computeRenameModalText(multiple)]]      
    </p>
    <template is="dom-repeat" items="[[_filesToRename]]">
      <div class="file-name-inputs">
        <iron-image class="rename-modal-images"
                    src="[[item._tempUrl]]" 
                    fade 
                    preload 
                    sizing="contain">
        </iron-image>
        <paper-input allowed-pattern="[^/\s/\f/\n/\r/\t/\v]"
                     autocorrect
                     autofocus
                     autocomplete
                     auto-validate
                     label="File Name"
                     on-value-changed="__renameInputChanged"
                     placeholder="[[__computeFileNamePlaceholder(item.name)]]"
                     tabindex="0">
        </paper-input>
      </div>
    </template>
  </div>
  <div class="card-actions" 
       slot="card-actions-slot">
    <paper-button class="modal-dismiss-btns" 
                  on-click="__dismissRenameFilesModalButtonClicked">
      skip
    </paper-button>   
    <paper-button class="modal-call-to-action-btns"               
                  on-click="__saveFileNamesButtonClicked">
      save name
    </paper-button> 
  </div>
</app-modal>
